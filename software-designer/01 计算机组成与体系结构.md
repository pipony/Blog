# 01 计算机组成与体系结构

## 数据的表示

### 进制转换

R进制->十进制：底数，指数

十进制->R进制：短除法

![image-20220328201500845](http://cdn.huangxindi.com/img/image-20220328201500845.png)

二进制->八进制，十六进制

![image-20220328201707416](http://cdn.huangxindi.com/img/image-20220328201707416.png)

### 编码

* 原码：正常转为二进制，位数不足前面补0。最高位为符号位（0正1负）
* 反码：正数=原码；负数：符号位不动，其他位原码取反
* 补码：正数=原码；负数：反码+1
* 移码：一般用来做浮点运算的阶码；**符号位为补码的反，其他位一样**。这样在数轴上，正数在负数的右边，看起来正常些

![image-20220328202526249](http://cdn.huangxindi.com/img/image-20220328202526249.png)

ps. 原码：1-1为-2，是不正常的，因此计算机里不能用原版来做加减

#### 移码

https://blog.csdn.net/Desire_Dir_W/article/details/114399797#/

#### 表示范围

![image-20220328202915692](http://cdn.huangxindi.com/img/image-20220328202915692.png)

为何补码比原/反码多一个数：原/反码有正负0，补码只有一种0的表示

### 浮点数运算

M*R^e

M：尾数；R：基数：e：指数

对阶（**小向大的指数对**） - 尾数计算 - 结果格式化（**尾数小数点左边是1**）

## 计算机结构

![image-20220328203437719](http://cdn.huangxindi.com/img/image-20220328203437719.png)

主机=CPU（运算器+控制器）+主存储器

## Flynn分类法

单I/多M+指令I/数据D

![image-20220328204105460](http://cdn.huangxindi.com/img/image-20220328204105460.png)

SISD 现在的机器几乎没有，可能在单片机用到

SIMD 阵列处理机：适合处理数组运算

MISD 只在理论中

MIMD 全面并行

## CISC和RICS

![image-20220328204144102](http://cdn.huangxindi.com/img/image-20220328204144102.png)

CISC 比较早期，通常是定制。指令数量多；可变长格式

RICS 复杂操作由简单操作组成即可；定长格式；操作寄存器；硬布线（速度快）

## 流水线

主要考察计算

### 周期

概念：执行时间最长的一个步骤时间

n条指令全部执行时间：

- 理论公式：1条指令执行时间+（指令条数-1）*流水线周期
- 实践公式：（k+n-1）*周期；k为子指令个数

考试时优先用理论公式算，没有这个选项，再用实践公式

![image-20220328205445725](http://cdn.huangxindi.com/img/image-20220328205445725.png)

### 吞吐率

概念：单位时间内处理指令条数

公式：TP=指令条数/流水线时间

最大吞吐率：

![image-20220328205659851](http://cdn.huangxindi.com/img/image-20220328205659851.png)

理解：极限情况下（不考虑流水线建立的时间等），1条指令配合上一个流水线周期

### 加速比

概念及公式：同一个任务不使用流水线时间/使用流水线时间

### 效率

概念：流水线的设备利用率。时空图中，设备占用时空区占总时空区之比。

公式：

![image-20220328210302495](http://cdn.huangxindi.com/img/image-20220328210302495.png)

每个子任务时间一样 -> 效率最高

## 存储

### 层次化存储结构

![image-20220328210428582](http://cdn.huangxindi.com/img/image-20220328210428582.png)

### cache

特点：

- CPU和内存之间
- 为何能改善系统性能：局部性原理

平均周期公式

![image-20220328211058542](http://cdn.huangxindi.com/img/image-20220328211058542.png)

**局部性原理**

时间/空间局部性

工作集理论：工作集是进程运行时被频繁访问的页面集合；把工作集打包到cache，短时间内不被替换，可提高效率

### 主存

![image-20220328211454312](http://cdn.huangxindi.com/img/image-20220328211454312.png)

- 随机存取存储器 RAM
- 只读存储器 ROM

#### 编址

8*4位的存储器：8个地址空间，每个地址空间含4位

两种组合方法：

![image-20220328211732881](http://cdn.huangxindi.com/img/image-20220328211732881.png)

（1）=C7FFFH-AC000H+1=C7FFFH+1-AC000H=112

（2）112k x 16 = 28 x 16k x 未知数 结果为4 

### 磁盘

主要掌握：读取一次数据过程中1、哪些动作；2、多少时间

存取时间=存道时间+等待时间（平均定位时间+旋转延迟时间）

